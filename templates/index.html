<!DOCTYPE html>
<html>
<head>
<title>Indian Stock Dashboard</title>

<style>
body{
    font-family: Arial;
    background:#0f172a;
    color:white;
    text-align:center;
}

button{
    padding:12px;
    margin:10px;
    border:none;
    background:#22c55e;
    color:white;
    font-size:16px;
    cursor:pointer;
}

input{
    padding:10px;
    margin:10px;
    width:250px;
}

.card{
    background:#1e293b;
    margin:10px;
    padding:15px;
    border-radius:10px;
}
</style>
</head>

<body>

<h1>ğŸ“ˆ Indian Stock Market Dashboard</h1>
<h3>Developed by Nivrutti Aware | StepUp Classes</h3>

<!-- SEARCH STOCK -->
<h2>ğŸ” Search Stock</h2>
<input id="stockname" placeholder="Enter stock name (TCS)">
<button onclick="searchStock()">Search</button>

<div id="stockresult"></div>

<hr>

<!-- PRICE -->
<button onclick="loadPrice()">ğŸ“Š Price Shockers</button>
<div id="price"></div>

<!-- IPO -->
<button onclick="loadIPO()">ğŸš€ IPO Details</button>
<div id="ipo"></div>

<!-- NEWS -->
<button onclick="loadNews()">ğŸ“° Market News</button>
<div id="news"></div>

<hr>

<!-- SUBSCRIBE -->
<h2>Subscribe</h2>
<input id="name" placeholder="Name">
<input id="email" placeholder="Email">
<input id="phone" placeholder="Phone">
<input id="plan" placeholder="Plan">
<button onclick="subscribe()">Subscribe</button>

<br><br>
<a href="/admin" target="_blank">
<button>ğŸ” Admin Dashboard</button>
</a>

<script>

function searchStock(){
let s=document.getElementById("stockname").value;

fetch("/search/"+s)
.then(r=>r.json())
.then(d=>{
document.getElementById("stockresult").innerHTML=
"<div class='card'><pre>"+JSON.stringify(d,null,2)+"</pre></div>";
});
}

function loadPrice(){
fetch("/price")
.then(r=>r.json())
.then(d=>{
document.getElementById("price").innerHTML=
"<div class='card'><pre>"+JSON.stringify(d,null,2)+"</pre></div>";
});
}

function loadIPO(){
fetch("/ipo")
.then(r=>r.json())
.then(d=>{
document.getElementById("ipo").innerHTML=
"<div class='card'><pre>"+JSON.stringify(d,null,2)+"</pre></div>";
});
}

function loadNews(){
fetch("/news")
.then(r=>r.json())
.then(d=>{
document.getElementById("news").innerHTML=
"<div class='card'><pre>"+JSON.stringify(d,null,2)+"</pre></div>";
});
}

function subscribe(){

fetch("/subscribe",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
name:document.getElementById("name").value,
email:document.getElementById("email").value,
phone:document.getElementById("phone").value,
plan:document.getElementById("plan").value
})
})
.then(r=>r.json())
.then(d=>alert(d.msg));
}
</script>

</body>
</html>
